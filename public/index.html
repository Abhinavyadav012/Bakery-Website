<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfect Bakery Store - Fresh Baked Goods Daily</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: '#FFF8E7',
                        brown: {
                            50: '#FAF5F0',
                            100: '#F5EBE0',
                            200: '#E6D5C3',
                            300: '#D4B896',
                            400: '#C4A574',
                            500: '#A67C52',
                            600: '#8B5E3C',
                            700: '#6B4423',
                            800: '#4A2C17',
                            900: '#2D1810',
                        },
                        gold: '#D4AF37',
                    },
                    fontFamily: {
                        display: ['Playfair Display', 'serif'],
                        sans: ['Poppins', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        * {
            scroll-behavior: smooth;
        }
        .bg-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        /* Custom Animations */
        @keyframes slide-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes scale-in {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes fade-in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .animate-slide-up {
            animation: slide-up 0.4s ease-out forwards;
        }
        
        .animate-scale-in {
            animation: scale-in 0.3s ease-out forwards;
        }
        
        .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #F5EBE0;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #A67C52;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #8B5E3C;
        }
        
        /* Line clamp for descriptions */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="font-sans bg-cream">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, createContext, useContext } = React;

        // Cart Context for Global State Management
        const CartContext = createContext();

        const CartProvider = ({ children }) => {
            const [cart, setCart] = useState([]);
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [isCheckoutOpen, setIsCheckoutOpen] = useState(false);
            const [orderStep, setOrderStep] = useState(1); // 1: Cart, 2: Details, 3: Payment, 4: Confirmation
            const [notification, setNotification] = useState(null);
            const [wishlist, setWishlist] = useState([]);
            
            // Authentication State
            const [user, setUser] = useState(null);
            const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);
            const [authMode, setAuthMode] = useState('login'); // 'login' or 'signup'

            // Fetch user session on load
            useEffect(() => {
                fetch('/api/user')
                    .then(res => res.json())
                    .then(data => {
                        if (data.success && data.user) {
                            setUser(data.user);
                        }
                    })
                    .catch(err => console.log('No active session'));
            }, []);

            const login = (userData) => {
                setUser(userData);
                setIsAuthModalOpen(false);
                showNotification(`Welcome back, ${userData.firstName}!`);
            };

            const signup = (userData) => {
                setUser(userData);
                setIsAuthModalOpen(false);
                showNotification(`Welcome to Perfect Bakery, ${userData.firstName}!`);
            };

            const logout = () => {
                setUser(null);
                showNotification('You have been logged out');
            };

            const openAuthModal = (mode = 'login') => {
                setAuthMode(mode);
                setIsAuthModalOpen(true);
            };

            const addToCart = (product) => {
                setCart(prev => {
                    const existing = prev.find(item => item.id === product.id);
                    if (existing) {
                        return prev.map(item => 
                            item.id === product.id 
                                ? { ...item, quantity: item.quantity + 1 }
                                : item
                        );
                    }
                    return [...prev, { ...product, quantity: 1 }];
                });
                showNotification(`${product.name} added to cart!`);
            };

            const removeFromCart = (productId) => {
                setCart(prev => prev.filter(item => item.id !== productId));
            };

            const updateQuantity = (productId, quantity) => {
                if (quantity <= 0) {
                    removeFromCart(productId);
                    return;
                }
                setCart(prev => prev.map(item => 
                    item.id === productId ? { ...item, quantity } : item
                ));
            };

            const clearCart = () => setCart([]);

            const toggleWishlist = (product) => {
                setWishlist(prev => {
                    const exists = prev.find(item => item.id === product.id);
                    if (exists) {
                        showNotification(`${product.name} removed from wishlist`);
                        return prev.filter(item => item.id !== product.id);
                    }
                    showNotification(`${product.name} added to wishlist!`);
                    return [...prev, product];
                });
            };

            const isInWishlist = (productId) => wishlist.some(item => item.id === productId);

            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);

            const showNotification = (message) => {
                setNotification(message);
                setTimeout(() => setNotification(null), 3000);
            };

            const scrollToSection = (sectionId) => {
                const element = document.getElementById(sectionId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                }
            };

            return (
                <CartContext.Provider value={{
                    cart, addToCart, removeFromCart, updateQuantity, clearCart,
                    isCartOpen, setIsCartOpen,
                    isCheckoutOpen, setIsCheckoutOpen,
                    orderStep, setOrderStep,
                    cartTotal, cartCount,
                    notification, showNotification,
                    wishlist, toggleWishlist, isInWishlist,
                    scrollToSection,
                    user, login, signup, logout,
                    isAuthModalOpen, setIsAuthModalOpen,
                    authMode, setAuthMode, openAuthModal
                }}>
                    {children}
                </CartContext.Provider>
            );
        };

        const useCart = () => useContext(CartContext);

        // Icon Components
        const MenuIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        );

        const CloseIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
        );

        const StarIcon = ({ filled }) => (
            <svg className={`w-4 h-4 ${filled ? 'text-gold' : 'text-gray-300'}`} fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
            </svg>
        );

        const CartIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
        );

        const PhoneIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
        );

        const LocationIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
        );

        const ClockIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const MailIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
        );

        const HeartIcon = ({ filled }) => (
            <svg className={`w-5 h-5 ${filled ? 'fill-red-500 text-red-500' : ''}`} fill={filled ? 'currentColor' : 'none'} stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
        );

        const MinusIcon = () => (
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" />
            </svg>
        );

        const PlusIcon = () => (
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
            </svg>
        );

        const TrashIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
        );

        const CheckIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
        );

        const UserIcon = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
        );

        const EyeIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
            </svg>
        );

        const EyeOffIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
            </svg>
        );

        const LogoutIcon = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
        );

        // Auth Modal Component (Login/Signup)
        const AuthModal = () => {
            const { isAuthModalOpen, setIsAuthModalOpen, authMode, setAuthMode, login, signup, showNotification } = useCart();
            const [showPassword, setShowPassword] = useState(false);
            const [isLoading, setIsLoading] = useState(false);
            const [errors, setErrors] = useState({});
            
            const [loginData, setLoginData] = useState({ email: '', password: '' });
            const [signupData, setSignupData] = useState({
                firstName: '', lastName: '', email: '', phone: '', password: '', confirmPassword: '', agreeTerms: false
            });

            const validateEmail = (email) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            const validatePassword = (password) => password.length >= 6;

            const handleLoginSubmit = (e) => {
                e.preventDefault();
                setErrors({});
                
                let newErrors = {};
                if (!validateEmail(loginData.email)) newErrors.email = 'Please enter a valid email';
                if (!validatePassword(loginData.password)) newErrors.password = 'Password must be at least 6 characters';
                
                if (Object.keys(newErrors).length > 0) {
                    setErrors(newErrors);
                    return;
                }

                setIsLoading(true);
                setTimeout(() => {
                    login({ 
                        firstName: loginData.email.split('@')[0], 
                        email: loginData.email,
                        avatar: 'üë§'
                    });
                    setIsLoading(false);
                    setLoginData({ email: '', password: '' });
                }, 1500);
            };

            const handleSignupSubmit = (e) => {
                e.preventDefault();
                setErrors({});
                
                let newErrors = {};
                if (!signupData.firstName.trim()) newErrors.firstName = 'First name is required';
                if (!signupData.lastName.trim()) newErrors.lastName = 'Last name is required';
                if (!validateEmail(signupData.email)) newErrors.email = 'Please enter a valid email';
                if (!validatePassword(signupData.password)) newErrors.password = 'Password must be at least 6 characters';
                if (signupData.password !== signupData.confirmPassword) newErrors.confirmPassword = 'Passwords do not match';
                if (!signupData.agreeTerms) newErrors.agreeTerms = 'You must agree to the terms';
                
                if (Object.keys(newErrors).length > 0) {
                    setErrors(newErrors);
                    return;
                }

                setIsLoading(true);
                setTimeout(() => {
                    signup({
                        firstName: signupData.firstName,
                        lastName: signupData.lastName,
                        email: signupData.email,
                        phone: signupData.phone,
                        avatar: 'üë§'
                    });
                    setIsLoading(false);
                    setSignupData({ firstName: '', lastName: '', email: '', phone: '', password: '', confirmPassword: '', agreeTerms: false });
                }, 1500);
            };

            const switchMode = () => {
                setAuthMode(authMode === 'login' ? 'signup' : 'login');
                setErrors({});
            };

            if (!isAuthModalOpen) return null;

            return (
                <div className="fixed inset-0 z-[90] flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={() => setIsAuthModalOpen(false)} />
                    <div className="relative bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto animate-scale-in">
                        {/* Header */}
                        <div className="relative p-8 pb-0">
                            <button 
                                onClick={() => setIsAuthModalOpen(false)} 
                                className="absolute top-4 right-4 p-2 hover:bg-brown-100 rounded-full transition-colors"
                            >
                                <CloseIcon />
                            </button>
                            
                            <div className="text-center mb-8">
                                <span className="text-5xl mb-4 block">ü•ê</span>
                                <h2 className="font-display text-3xl font-bold text-brown-800">
                                    {authMode === 'login' ? 'Welcome Back!' : 'Join Perfect Bakery'}
                                </h2>
                                <p className="text-brown-500 mt-2">
                                    {authMode === 'login' 
                                        ? 'Sign in to access your account' 
                                        : 'Create an account to start ordering'}
                                </p>
                            </div>
                        </div>

                        {/* Forms */}
                        <div className="p-8 pt-0">
                            {authMode === 'login' ? (
                                /* Login Form */
                                <form onSubmit={handleLoginSubmit} className="space-y-5">
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Email Address</label>
                                        <input
                                            type="email"
                                            value={loginData.email}
                                            onChange={(e) => setLoginData({ ...loginData, email: e.target.value })}
                                            className={`w-full px-4 py-3 rounded-xl border-2 ${errors.email ? 'border-red-400' : 'border-brown-200'} focus:border-brown-500 outline-none transition-colors`}
                                            placeholder="you@example.com"
                                        />
                                        {errors.email && <p className="text-red-500 text-sm mt-1">{errors.email}</p>}
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Password</label>
                                        <div className="relative">
                                            <input
                                                type={showPassword ? 'text' : 'password'}
                                                value={loginData.password}
                                                onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}
                                                className={`w-full px-4 py-3 rounded-xl border-2 ${errors.password ? 'border-red-400' : 'border-brown-200'} focus:border-brown-500 outline-none transition-colors pr-12`}
                                                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                            />
                                            <button
                                                type="button"
                                                onClick={() => setShowPassword(!showPassword)}
                                                className="absolute right-3 top-1/2 -translate-y-1/2 text-brown-400 hover:text-brown-600"
                                            >
                                                {showPassword ? <EyeOffIcon /> : <EyeIcon />}
                                            </button>
                                        </div>
                                        {errors.password && <p className="text-red-500 text-sm mt-1">{errors.password}</p>}
                                    </div>
                                    <div className="flex items-center justify-between">
                                        <label className="flex items-center space-x-2 cursor-pointer">
                                            <input type="checkbox" className="w-4 h-4 rounded border-brown-300 text-brown-600 focus:ring-brown-500" />
                                            <span className="text-sm text-brown-600">Remember me</span>
                                        </label>
                                        <a href="#" className="text-sm text-brown-600 hover:text-gold transition-colors">Forgot password?</a>
                                    </div>
                                    <button
                                        type="submit"
                                        disabled={isLoading}
                                        className={`w-full py-4 bg-gradient-to-r from-brown-600 to-brown-700 text-white rounded-xl font-semibold transition-all duration-300 ${
                                            isLoading ? 'opacity-70 cursor-not-allowed' : 'hover:from-brown-700 hover:to-brown-800 hover:shadow-lg transform hover:scale-[1.02]'
                                        }`}
                                    >
                                        {isLoading ? (
                                            <span className="flex items-center justify-center space-x-2">
                                                <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">
                                                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none" />
                                                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
                                                </svg>
                                                <span>Signing in...</span>
                                            </span>
                                        ) : 'Sign In'}
                                    </button>
                                </form>
                            ) : (
                                /* Signup Form */
                                <form onSubmit={handleSignupSubmit} className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">First Name</label>
                                            <input
                                                type="text"
                                                value={signupData.firstName}
                                                onChange={(e) => setSignupData({ ...signupData, firstName: e.target.value })}
                                                className={`w-full px-4 py-3 rounded-xl border-2 ${errors.firstName ? 'border-red-400' : 'border-brown-200'} focus:border-brown-500 outline-none transition-colors`}
                                                placeholder="John"
                                            />
                                            {errors.firstName && <p className="text-red-500 text-xs mt-1">{errors.firstName}</p>}
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Last Name</label>
                                            <input
                                                type="text"
                                                value={signupData.lastName}
                                                onChange={(e) => setSignupData({ ...signupData, lastName: e.target.value })}
                                                className={`w-full px-4 py-3 rounded-xl border-2 ${errors.lastName ? 'border-red-400' : 'border-brown-200'} focus:border-brown-500 outline-none transition-colors`}
                                                placeholder="Doe"
                                            />
                                            {errors.lastName && <p className="text-red-500 text-xs mt-1">{errors.lastName}</p>}
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Email Address</label>
                                        <input
                                            type="email"
                                            value={signupData.email}
                                            onChange={(e) => setSignupData({ ...signupData, email: e.target.value })}
                                            className={`w-full px-4 py-3 rounded-xl border-2 ${errors.email ? 'border-red-400' : 'border-brown-200'} focus:border-brown-500 outline-none transition-colors`}
                                            placeholder="you@example.com"
                                        />
                                        {errors.email && <p className="text-red-500 text-sm mt-1">{errors.email}</p>}
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Phone (Optional)</label>
                                        <input
                                            type="tel"
                                            value={signupData.phone}
                                            onChange={(e) => setSignupData({ ...signupData, phone: e.target.value })}
                                            className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors"
                                            placeholder="+1 (555) 123-4567"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Password</label>
                                        <div className="relative">
                                            <input
                                                type={showPassword ? 'text' : 'password'}
                                                value={signupData.password}
                                                onChange={(e) => setSignupData({ ...signupData, password: e.target.value })}
                                                className={`w-full px-4 py-3 rounded-xl border-2 ${errors.password ? 'border-red-400' : 'border-brown-200'} focus:border-brown-500 outline-none transition-colors pr-12`}
                                                placeholder="At least 6 characters"
                                            />
                                            <button
                                                type="button"
                                                onClick={() => setShowPassword(!showPassword)}
                                                className="absolute right-3 top-1/2 -translate-y-1/2 text-brown-400 hover:text-brown-600"
                                            >
                                                {showPassword ? <EyeOffIcon /> : <EyeIcon />}
                                            </button>
                                        </div>
                                        {errors.password && <p className="text-red-500 text-sm mt-1">{errors.password}</p>}
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Confirm Password</label>
                                        <input
                                            type="password"
                                            value={signupData.confirmPassword}
                                            onChange={(e) => setSignupData({ ...signupData, confirmPassword: e.target.value })}
                                            className={`w-full px-4 py-3 rounded-xl border-2 ${errors.confirmPassword ? 'border-red-400' : 'border-brown-200'} focus:border-brown-500 outline-none transition-colors`}
                                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                        />
                                        {errors.confirmPassword && <p className="text-red-500 text-sm mt-1">{errors.confirmPassword}</p>}
                                    </div>
                                    <div>
                                        <label className="flex items-start space-x-3 cursor-pointer">
                                            <input 
                                                type="checkbox" 
                                                checked={signupData.agreeTerms}
                                                onChange={(e) => setSignupData({ ...signupData, agreeTerms: e.target.checked })}
                                                className="w-4 h-4 mt-1 rounded border-brown-300 text-brown-600 focus:ring-brown-500" 
                                            />
                                            <span className="text-sm text-brown-600">
                                                I agree to the <a href="#" className="text-gold hover:underline">Terms of Service</a> and <a href="#" className="text-gold hover:underline">Privacy Policy</a>
                                            </span>
                                        </label>
                                        {errors.agreeTerms && <p className="text-red-500 text-sm mt-1">{errors.agreeTerms}</p>}
                                    </div>
                                    <button
                                        type="submit"
                                        disabled={isLoading}
                                        className={`w-full py-4 bg-gradient-to-r from-brown-600 to-brown-700 text-white rounded-xl font-semibold transition-all duration-300 ${
                                            isLoading ? 'opacity-70 cursor-not-allowed' : 'hover:from-brown-700 hover:to-brown-800 hover:shadow-lg transform hover:scale-[1.02]'
                                        }`}
                                    >
                                        {isLoading ? (
                                            <span className="flex items-center justify-center space-x-2">
                                                <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">
                                                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none" />
                                                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
                                                </svg>
                                                <span>Creating account...</span>
                                            </span>
                                        ) : 'Create Account'}
                                    </button>
                                </form>
                            )}

                            {/* Divider */}
                            <div className="flex items-center my-6">
                                <div className="flex-1 border-t border-brown-200"></div>
                                <span className="px-4 text-sm text-brown-400">or continue with</span>
                                <div className="flex-1 border-t border-brown-200"></div>
                            </div>

                            {/* Social Login */}
                            <div className="grid grid-cols-2 gap-4">
                                <button className="flex items-center justify-center space-x-2 py-3 border-2 border-brown-200 rounded-xl hover:bg-brown-50 transition-colors">
                                    <span className="text-xl">G</span>
                                    <span className="font-medium text-brown-700">Google</span>
                                </button>
                                <button className="flex items-center justify-center space-x-2 py-3 border-2 border-brown-200 rounded-xl hover:bg-brown-50 transition-colors">
                                    <span className="text-xl">f</span>
                                    <span className="font-medium text-brown-700">Facebook</span>
                                </button>
                            </div>

                            {/* Switch Mode */}
                            <p className="text-center mt-6 text-brown-600">
                                {authMode === 'login' ? "Don't have an account? " : "Already have an account? "}
                                <button 
                                    onClick={switchMode}
                                    className="text-gold font-semibold hover:underline"
                                >
                                    {authMode === 'login' ? 'Sign Up' : 'Sign In'}
                                </button>
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        // User Profile Dropdown Component
        const UserDropdown = () => {
            const { user, logout, wishlist, scrollToSection } = useCart();
            const [isOpen, setIsOpen] = useState(false);

            const handleLogout = async () => {
                try {
                    await fetch('/api/logout', { method: 'POST' });
                    logout();
                    setIsOpen(false);
                } catch (error) {
                    console.error('Logout error:', error);
                }
            };

            if (!user) {
                return (
                    <div className="flex items-center space-x-3">
                        <a
                            href="/login"
                            className="flex items-center space-x-2 text-brown-700 hover:text-gold font-medium transition-colors px-4 py-2 rounded-full hover:bg-brown-50"
                        >
                            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            <span>Sign In</span>
                        </a>
                        <a
                            href="/signup"
                            className="flex items-center space-x-2 bg-gradient-to-r from-gold to-yellow-400 text-brown-900 px-5 py-2.5 rounded-full font-semibold hover:shadow-lg hover:scale-105 transform transition-all duration-300"
                        >
                            <span>Join Free</span>
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7l5 5m0 0l-5 5m5-5H6" />
                            </svg>
                        </a>
                    </div>
                );
            }

            return (
                <div className="relative">
                    <button
                        onClick={() => setIsOpen(!isOpen)}
                        className="flex items-center space-x-2 bg-brown-100 px-3 py-2 rounded-full hover:bg-brown-200 transition-colors"
                    >
                        <span className="text-xl">{user.avatar || 'üë§'}</span>
                        <span className="hidden sm:block font-medium text-brown-700">{user.firstName}</span>
                        <svg className={`w-4 h-4 text-brown-500 transition-transform ${isOpen ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>

                    {isOpen && (
                        <>
                            <div className="fixed inset-0 z-40" onClick={() => setIsOpen(false)} />
                            <div className="absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-2xl z-50 overflow-hidden animate-scale-in">
                                {/* User Info */}
                                <div className="p-4 bg-brown-50 border-b">
                                    <div className="flex items-center space-x-3">
                                        <span className="text-3xl">{user.avatar || 'üë§'}</span>
                                        <div>
                                            <p className="font-semibold text-brown-800">{user.firstName} {user.lastName}</p>
                                            <p className="text-sm text-brown-500">{user.email}</p>
                                        </div>
                                    </div>
                                </div>

                                {/* Menu Items */}
                                <div className="p-2">
                                    <a href="/dashboard" className="w-full flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-brown-50 transition-colors text-left">
                                        <span className="text-xl">üì¶</span>
                                        <span className="text-brown-700">My Dashboard</span>
                                    </a>
                                    <button 
                                        onClick={() => { scrollToSection('products'); setIsOpen(false); }}
                                        className="w-full flex items-center justify-between px-4 py-3 rounded-xl hover:bg-brown-50 transition-colors"
                                    >
                                        <div className="flex items-center space-x-3">
                                            <span className="text-xl">‚ù§Ô∏è</span>
                                            <span className="text-brown-700">Wishlist</span>
                                        </div>
                                        {wishlist.length > 0 && (
                                            <span className="bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full font-semibold">
                                                {wishlist.length}
                                            </span>
                                        )}
                                    </button>
                                    <a href="/dashboard" className="w-full flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-brown-50 transition-colors text-left">
                                        <span className="text-xl">‚öôÔ∏è</span>
                                        <span className="text-brown-700">Settings</span>
                                    </a>
                                    <a href="/dashboard" className="w-full flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-brown-50 transition-colors text-left">
                                        <span className="text-xl">üéÅ</span>
                                        <span className="text-brown-700">Rewards</span>
                                        <span className="bg-gold text-brown-900 text-xs px-2 py-1 rounded-full font-semibold">{user.rewards || 100} pts</span>
                                    </a>
                                </div>

                                {/* Logout */}
                                <div className="p-2 border-t">
                                    <button 
                                        onClick={handleLogout}
                                        className="w-full flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-red-50 transition-colors text-left text-red-600"
                                    >
                                        <LogoutIcon />
                                        <span>Sign Out</span>
                                    </button>
                                </div>
                            </div>
                        </>
                    )}
                </div>
            );
        };

        // Notification Toast Component
        const Notification = () => {
            const { notification } = useCart();
            if (!notification) return null;

            return (
                <div className="fixed bottom-6 right-6 z-[100] animate-slide-up">
                    <div className="bg-brown-800 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center space-x-3">
                        <span className="text-2xl">‚úì</span>
                        <span className="font-medium">{notification}</span>
                    </div>
                </div>
            );
        };

        // Cart Sidebar Component
        const CartSidebar = () => {
            const { cart, isCartOpen, setIsCartOpen, removeFromCart, updateQuantity, cartTotal, setIsCheckoutOpen, setOrderStep } = useCart();

            const handleCheckout = () => {
                setIsCartOpen(false);
                setOrderStep(2);
                setIsCheckoutOpen(true);
            };

            return (
                <>
                    {/* Overlay */}
                    <div 
                        className={`fixed inset-0 bg-black/50 z-[60] transition-opacity duration-300 ${isCartOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}
                        onClick={() => setIsCartOpen(false)}
                    />
                    
                    {/* Sidebar */}
                    <div className={`fixed top-0 right-0 h-full w-full max-w-md bg-white z-[70] shadow-2xl transform transition-transform duration-500 ${isCartOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                        <div className="flex flex-col h-full">
                            {/* Header */}
                            <div className="flex items-center justify-between p-6 border-b">
                                <h2 className="font-display text-2xl font-bold text-brown-800">Your Cart</h2>
                                <button onClick={() => setIsCartOpen(false)} className="p-2 hover:bg-brown-100 rounded-full transition-colors">
                                    <CloseIcon />
                                </button>
                            </div>

                            {/* Cart Items */}
                            <div className="flex-1 overflow-y-auto p-6">
                                {cart.length === 0 ? (
                                    <div className="text-center py-12">
                                        <span className="text-6xl mb-4 block">üõí</span>
                                        <p className="text-brown-500 text-lg">Your cart is empty</p>
                                        <button 
                                            onClick={() => { setIsCartOpen(false); document.getElementById('products').scrollIntoView({ behavior: 'smooth' }); }}
                                            className="mt-4 text-brown-700 font-semibold hover:text-gold transition-colors"
                                        >
                                            Browse Products ‚Üí
                                        </button>
                                    </div>
                                ) : (
                                    <div className="space-y-4">
                                        {cart.map(item => (
                                            <div key={item.id} className="flex items-center space-x-4 p-4 bg-brown-50 rounded-xl hover:bg-brown-100 transition-colors">
                                                <img src={item.image} alt={item.name} className="w-20 h-20 rounded-lg object-cover" />
                                                <div className="flex-1">
                                                    <h4 className="font-semibold text-brown-800">{item.name}</h4>
                                                    <p className="text-brown-500 text-sm">${item.price.toFixed(2)} each</p>
                                                    <div className="flex items-center space-x-3 mt-2">
                                                        <button 
                                                            onClick={() => updateQuantity(item.id, item.quantity - 1)}
                                                            className="p-1 bg-white rounded-full hover:bg-brown-200 transition-colors"
                                                        >
                                                            <MinusIcon />
                                                        </button>
                                                        <span className="font-semibold text-brown-800 w-8 text-center">{item.quantity}</span>
                                                        <button 
                                                            onClick={() => updateQuantity(item.id, item.quantity + 1)}
                                                            className="p-1 bg-white rounded-full hover:bg-brown-200 transition-colors"
                                                        >
                                                            <PlusIcon />
                                                        </button>
                                                    </div>
                                                </div>
                                                <div className="text-right">
                                                    <p className="font-bold text-brown-800">${(item.price * item.quantity).toFixed(2)}</p>
                                                    <button 
                                                        onClick={() => removeFromCart(item.id)}
                                                        className="mt-2 text-red-500 hover:text-red-700 transition-colors"
                                                    >
                                                        <TrashIcon />
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>

                            {/* Footer */}
                            {cart.length > 0 && (
                                <div className="border-t p-6 space-y-4">
                                    <div className="flex justify-between text-lg">
                                        <span className="text-brown-600">Subtotal</span>
                                        <span className="font-bold text-brown-800">${cartTotal.toFixed(2)}</span>
                                    </div>
                                    <button 
                                        onClick={handleCheckout}
                                        className="w-full py-4 bg-gradient-to-r from-brown-600 to-brown-700 text-white rounded-xl font-semibold hover:from-brown-700 hover:to-brown-800 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg"
                                    >
                                        Proceed to Checkout
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>
                </>
            );
        };

        // Checkout Modal Component
        const CheckoutModal = () => {
            const { cart, isCheckoutOpen, setIsCheckoutOpen, orderStep, setOrderStep, cartTotal, clearCart, showNotification } = useCart();
            const [formData, setFormData] = useState({
                firstName: '', lastName: '', email: '', phone: '', address: '', city: '', zip: '',
                cardNumber: '', cardName: '', expiry: '', cvv: ''
            });

            const handleInputChange = (e) => {
                setFormData({ ...formData, [e.target.name]: e.target.value });
            };

            const handlePlaceOrder = () => {
                setOrderStep(4);
                setTimeout(() => {
                    clearCart();
                }, 500);
            };

            const handleClose = () => {
                setIsCheckoutOpen(false);
                setOrderStep(1);
                if (orderStep === 4) {
                    showNotification('Thank you for your order!');
                }
            };

            if (!isCheckoutOpen) return null;

            const steps = [
                { num: 1, label: 'Cart' },
                { num: 2, label: 'Details' },
                { num: 3, label: 'Payment' },
                { num: 4, label: 'Done' }
            ];

            return (
                <div className="fixed inset-0 z-[80] flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={handleClose} />
                    <div className="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-scale-in">
                        {/* Header with Progress */}
                        <div className="sticky top-0 bg-white border-b p-6 rounded-t-3xl">
                            <button onClick={handleClose} className="absolute top-4 right-4 p-2 hover:bg-brown-100 rounded-full transition-colors">
                                <CloseIcon />
                            </button>
                            <h2 className="font-display text-2xl font-bold text-brown-800 mb-6">
                                {orderStep === 4 ? 'Order Confirmed!' : 'Checkout'}
                            </h2>
                            
                            {/* Progress Steps */}
                            <div className="flex items-center justify-between">
                                {steps.map((step, idx) => (
                                    <React.Fragment key={step.num}>
                                        <div className="flex flex-col items-center">
                                            <div className={`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all duration-300 ${
                                                orderStep >= step.num ? 'bg-brown-700 text-white' : 'bg-brown-100 text-brown-400'
                                            }`}>
                                                {orderStep > step.num ? <CheckIcon /> : step.num}
                                            </div>
                                            <span className={`text-xs mt-2 ${orderStep >= step.num ? 'text-brown-700' : 'text-brown-400'}`}>
                                                {step.label}
                                            </span>
                                        </div>
                                        {idx < steps.length - 1 && (
                                            <div className={`flex-1 h-1 mx-2 rounded transition-all duration-300 ${
                                                orderStep > step.num ? 'bg-brown-700' : 'bg-brown-100'
                                            }`} />
                                        )}
                                    </React.Fragment>
                                ))}
                            </div>
                        </div>

                        {/* Content */}
                        <div className="p-6">
                            {/* Step 2: Delivery Details */}
                            {orderStep === 2 && (
                                <div className="space-y-6 animate-fade-in">
                                    <h3 className="font-semibold text-lg text-brown-800">Delivery Information</h3>
                                    <div className="grid sm:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">First Name</label>
                                            <input type="text" name="firstName" value={formData.firstName} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="John" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Last Name</label>
                                            <input type="text" name="lastName" value={formData.lastName} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="Doe" />
                                        </div>
                                    </div>
                                    <div className="grid sm:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Email</label>
                                            <input type="email" name="email" value={formData.email} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="john@example.com" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Phone</label>
                                            <input type="tel" name="phone" value={formData.phone} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="+1 (555) 123-4567" />
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Delivery Address</label>
                                        <input type="text" name="address" value={formData.address} onChange={handleInputChange}
                                            className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="123 Main Street, Apt 4" />
                                    </div>
                                    <div className="grid sm:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">City</label>
                                            <input type="text" name="city" value={formData.city} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="New York" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">ZIP Code</label>
                                            <input type="text" name="zip" value={formData.zip} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="10001" />
                                        </div>
                                    </div>
                                    <button onClick={() => setOrderStep(3)}
                                        className="w-full py-4 bg-gradient-to-r from-brown-600 to-brown-700 text-white rounded-xl font-semibold hover:from-brown-700 hover:to-brown-800 transition-all duration-300 transform hover:scale-[1.02]">
                                        Continue to Payment
                                    </button>
                                </div>
                            )}

                            {/* Step 3: Payment */}
                            {orderStep === 3 && (
                                <div className="space-y-6 animate-fade-in">
                                    <h3 className="font-semibold text-lg text-brown-800">Payment Details</h3>
                                    
                                    {/* Order Summary */}
                                    <div className="bg-brown-50 rounded-xl p-4">
                                        <h4 className="font-semibold text-brown-800 mb-3">Order Summary</h4>
                                        <div className="space-y-2 max-h-40 overflow-y-auto">
                                            {cart.map(item => (
                                                <div key={item.id} className="flex justify-between text-sm">
                                                    <span className="text-brown-600">{item.name} x{item.quantity}</span>
                                                    <span className="font-medium text-brown-800">${(item.price * item.quantity).toFixed(2)}</span>
                                                </div>
                                            ))}
                                        </div>
                                        <div className="border-t mt-3 pt-3 flex justify-between">
                                            <span className="font-semibold text-brown-800">Total</span>
                                            <span className="font-bold text-xl text-brown-800">${cartTotal.toFixed(2)}</span>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Card Number</label>
                                        <input type="text" name="cardNumber" value={formData.cardNumber} onChange={handleInputChange}
                                            className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="1234 5678 9012 3456" />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-brown-700 mb-2">Name on Card</label>
                                        <input type="text" name="cardName" value={formData.cardName} onChange={handleInputChange}
                                            className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="John Doe" />
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Expiry Date</label>
                                            <input type="text" name="expiry" value={formData.expiry} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="MM/YY" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">CVV</label>
                                            <input type="text" name="cvv" value={formData.cvv} onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 outline-none transition-colors" placeholder="123" />
                                        </div>
                                    </div>
                                    <div className="flex gap-4">
                                        <button onClick={() => setOrderStep(2)}
                                            className="flex-1 py-4 border-2 border-brown-300 text-brown-700 rounded-xl font-semibold hover:bg-brown-50 transition-all duration-300">
                                            Back
                                        </button>
                                        <button onClick={handlePlaceOrder}
                                            className="flex-1 py-4 bg-gradient-to-r from-gold to-yellow-500 text-brown-900 rounded-xl font-semibold hover:from-yellow-500 hover:to-gold transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg">
                                            Place Order üéâ
                                        </button>
                                    </div>
                                </div>
                            )}

                            {/* Step 4: Confirmation */}
                            {orderStep === 4 && (
                                <div className="text-center py-8 animate-fade-in">
                                    <div className="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce">
                                        <span className="text-5xl">üéâ</span>
                                    </div>
                                    <h3 className="font-display text-3xl font-bold text-brown-800 mb-4">Thank You!</h3>
                                    <p className="text-brown-600 text-lg mb-2">Your order has been placed successfully.</p>
                                    <p className="text-brown-500 mb-6">Order #PB{Math.floor(Math.random() * 100000)}</p>
                                    <div className="bg-brown-50 rounded-xl p-6 text-left mb-6">
                                        <h4 className="font-semibold text-brown-800 mb-3">What's Next?</h4>
                                        <ul className="space-y-2 text-brown-600">
                                            <li className="flex items-center space-x-2">
                                                <span className="text-green-500">‚úì</span>
                                                <span>Order confirmation email sent</span>
                                            </li>
                                            <li className="flex items-center space-x-2">
                                                <span className="text-brown-400">‚óã</span>
                                                <span>Fresh baking begins</span>
                                            </li>
                                            <li className="flex items-center space-x-2">
                                                <span className="text-brown-400">‚óã</span>
                                                <span>Delivery in 45-60 minutes</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <button onClick={handleClose}
                                        className="px-8 py-4 bg-brown-700 text-white rounded-xl font-semibold hover:bg-brown-800 transition-all duration-300 transform hover:scale-105">
                                        Continue Shopping
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // Mobile User Auth Component
        const MobileUserAuth = ({ setIsNavOpen }) => {
            const { user, logout } = useCart();

            const handleLogout = async () => {
                try {
                    await fetch('/api/logout', { method: 'POST' });
                    logout();
                    setIsNavOpen(false);
                } catch (error) {
                    console.error('Logout error:', error);
                }
            };

            if (!user) {
                return (
                    <div className="flex flex-col space-y-2">
                        <a
                            href="/login"
                            className="w-full flex items-center justify-center space-x-2 border-2 border-brown-300 text-brown-700 px-5 py-3 rounded-full hover:bg-brown-50 transition-all duration-300"
                        >
                            <UserIcon />
                            <span>Sign In</span>
                        </a>
                        <a
                            href="/signup"
                            className="w-full flex items-center justify-center space-x-2 bg-gold text-brown-900 px-5 py-3 rounded-full hover:bg-yellow-400 transition-all duration-300 font-semibold"
                        >
                            <span>Create Account</span>
                        </a>
                    </div>
                );
            }

            return (
                <div className="space-y-3">
                    <div className="flex items-center space-x-3 p-3 bg-brown-50 rounded-xl">
                        <span className="text-3xl">{user.avatar || 'üë§'}</span>
                        <div>
                            <p className="font-semibold text-brown-800">{user.firstName} {user.lastName}</p>
                            <p className="text-sm text-brown-500">{user.email}</p>
                        </div>
                    </div>
                    <a
                        href="/dashboard"
                        className="w-full flex items-center justify-center space-x-2 bg-brown-100 text-brown-700 px-5 py-3 rounded-full hover:bg-brown-200 transition-all duration-300"
                    >
                        <span>My Dashboard</span>
                    </a>
                    <button
                        onClick={handleLogout}
                        className="w-full flex items-center justify-center space-x-2 text-red-600 px-5 py-3 rounded-full border-2 border-red-200 hover:bg-red-50 transition-all duration-300"
                    >
                        <LogoutIcon />
                        <span>Sign Out</span>
                    </button>
                </div>
            );
        };

        // Navigation Component
        const Navbar = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [activeSection, setActiveSection] = useState('home');
            const { cartCount, setIsCartOpen, scrollToSection } = useCart();

            useEffect(() => {
                const handleScroll = () => {
                    setScrolled(window.scrollY > 50);
                    
                    // Update active section based on scroll position
                    const sections = ['home', 'products', 'about', 'gallery', 'contact'];
                    for (const section of sections) {
                        const element = document.getElementById(section);
                        if (element) {
                            const rect = element.getBoundingClientRect();
                            if (rect.top <= 150 && rect.bottom >= 150) {
                                setActiveSection(section);
                                break;
                            }
                        }
                    }
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const navLinks = ['Home', 'Products', 'About', 'Gallery', 'Contact'];

            const handleNavClick = (e, link) => {
                e.preventDefault();
                const sectionId = link.toLowerCase();
                scrollToSection(sectionId);
                setIsOpen(false);
            };

            return (
                <nav className={`fixed w-full z-50 transition-all duration-500 ${scrolled ? 'bg-white/95 backdrop-blur-md shadow-lg py-2' : 'bg-transparent py-4'}`}>
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex justify-between items-center">
                            <a href="#home" onClick={(e) => handleNavClick(e, 'home')} className="flex items-center space-x-2 cursor-pointer">
                                <span className="text-3xl">ü•ê</span>
                                <span className={`font-display text-2xl font-bold transition-colors duration-300 ${scrolled ? 'text-brown-800' : 'text-white'}`}>
                                    Perfect Bakery
                                </span>
                            </a>

                            <div className="hidden md:flex items-center space-x-8">
                                {navLinks.map((link) => (
                                    <a
                                        key={link}
                                        href={`#${link.toLowerCase()}`}
                                        onClick={(e) => handleNavClick(e, link)}
                                        className={`relative font-medium transition-all duration-300 hover:text-gold group ${scrolled ? 'text-brown-700' : 'text-white'} ${activeSection === link.toLowerCase() ? 'text-gold' : ''}`}
                                    >
                                        {link}
                                        <span className={`absolute -bottom-1 left-0 h-0.5 bg-gold transition-all duration-300 ${activeSection === link.toLowerCase() ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>
                                    </a>
                                ))}
                                <button 
                                    onClick={() => setIsCartOpen(true)}
                                    className="relative flex items-center space-x-2 bg-gradient-to-r from-brown-600 to-brown-700 text-white px-5 py-2.5 rounded-full hover:from-brown-700 hover:to-brown-800 transition-all duration-300 hover:shadow-lg hover:scale-105 transform"
                                >
                                    <CartIcon />
                                    <span>Order Now</span>
                                    {cartCount > 0 && (
                                        <span className="absolute -top-2 -right-2 w-6 h-6 bg-gold text-brown-900 rounded-full text-xs font-bold flex items-center justify-center animate-pulse">
                                            {cartCount}
                                        </span>
                                    )}
                                </button>
                                <UserDropdown />
                            </div>

                            <div className="md:hidden flex items-center space-x-4">
                                <button 
                                    onClick={() => setIsCartOpen(true)}
                                    className="relative p-2"
                                >
                                    <CartIcon />
                                    {cartCount > 0 && (
                                        <span className="absolute -top-1 -right-1 w-5 h-5 bg-gold text-brown-900 rounded-full text-xs font-bold flex items-center justify-center">
                                            {cartCount}
                                        </span>
                                    )}
                                </button>
                                <button
                                    className={`p-2 rounded-lg transition-colors ${scrolled ? 'text-brown-800' : 'text-white'}`}
                                    onClick={() => setIsOpen(!isOpen)}
                                >
                                    {isOpen ? <CloseIcon /> : <MenuIcon />}
                                </button>
                            </div>
                        </div>

                        {/* Mobile Menu */}
                        <div className={`md:hidden transition-all duration-500 overflow-hidden ${isOpen ? 'max-h-[500px] opacity-100' : 'max-h-0 opacity-0'}`}>
                            <div className="py-4 space-y-3 bg-white/95 backdrop-blur-md rounded-2xl mt-4 px-4 shadow-xl">
                                {navLinks.map((link) => (
                                    <a
                                        key={link}
                                        href={`#${link.toLowerCase()}`}
                                        className={`block py-2 transition-colors font-medium ${activeSection === link.toLowerCase() ? 'text-gold' : 'text-brown-700 hover:text-gold'}`}
                                        onClick={(e) => handleNavClick(e, link)}
                                    >
                                        {link}
                                    </a>
                                ))}
                                <button 
                                    onClick={() => { setIsOpen(false); setIsCartOpen(true); }}
                                    className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-brown-600 to-brown-700 text-white px-5 py-3 rounded-full hover:from-brown-700 hover:to-brown-800 transition-all duration-300"
                                >
                                    <CartIcon />
                                    <span>View Cart ({cartCount})</span>
                                </button>
                                <div className="pt-2 border-t border-brown-200">
                                    <MobileUserAuth setIsNavOpen={setIsOpen} />
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            );
        };

        // Hero Auth CTA Component - Shows login/signup buttons for non-logged users
        const HeroAuthCTA = () => {
            const { user } = useCart();
            
            if (user) return null; // Don't show if user is logged in
            
            return (
                <div className="mt-10 animate-fade-in">
                    <div className="inline-flex flex-col sm:flex-row items-center gap-4 bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20">
                        <div className="text-center sm:text-left">
                            <p className="text-white font-medium mb-1">üéÅ New here? Join our bakery family!</p>
                            <p className="text-brown-200 text-sm">Get 100 welcome points & exclusive member discounts</p>
                        </div>
                        <div className="flex items-center gap-3">
                            <a
                                href="/login"
                                className="px-6 py-3 text-white border-2 border-white/50 rounded-full font-medium hover:bg-white/20 hover:border-white transition-all duration-300"
                            >
                                Sign In
                            </a>
                            <a
                                href="/signup"
                                className="px-6 py-3 bg-gold text-brown-900 rounded-full font-semibold hover:bg-yellow-400 hover:shadow-lg transition-all duration-300 flex items-center space-x-2"
                            >
                                <span>Create Account</span>
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7l5 5m0 0l-5 5m5-5H6" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        // Hero Section
        const Hero = () => {
            const { scrollToSection, setIsCartOpen, cartCount } = useCart();

            return (
                <section id="home" className="relative min-h-screen flex items-center justify-center overflow-hidden">
                    <div className="absolute inset-0 bg-gradient-to-br from-brown-900 via-brown-800 to-brown-700"></div>
                    <div className="absolute inset-0 bg-pattern opacity-30"></div>
                    <div className="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1509440159596-0249088772ff?w=1920')] bg-cover bg-center opacity-20"></div>
                    
                    <div className="relative z-10 text-center px-4 max-w-5xl mx-auto">
                        <div className="animate-bounce mb-6">
                            <span className="text-7xl md:text-8xl">ü•ñ</span>
                        </div>
                        <h1 className="font-display text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-6 leading-tight">
                            Freshly Baked
                            <span className="block text-gold">Every Morning</span>
                        </h1>
                        <p className="text-xl md:text-2xl text-brown-200 mb-10 max-w-2xl mx-auto leading-relaxed">
                            Artisanal breads, delicate pastries, and heavenly cakes crafted with love and the finest ingredients since 1985.
                        </p>
                        <div className="flex flex-col sm:flex-row gap-4 justify-center">
                            <button
                                onClick={() => scrollToSection('products')}
                                className="group relative inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-brown-900 bg-gold rounded-full overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-gold/30"
                            >
                                <span className="relative z-10">Explore Our Menu</span>
                                <div className="absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
                            </button>
                            <button
                                onClick={() => scrollToSection('contact')}
                                className="group inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-white border-2 border-white/30 rounded-full transition-all duration-300 hover:bg-white/10 hover:border-white hover:scale-105"
                            >
                                <PhoneIcon />
                                <span className="ml-2">Contact Us</span>
                            </button>
                        </div>
                        
                        {/* Quick Order Badge */}
                        {cartCount > 0 && (
                            <div className="mt-8 animate-fade-in">
                                <button 
                                    onClick={() => setIsCartOpen(true)}
                                    className="inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm px-6 py-3 rounded-full text-white hover:bg-white/30 transition-all duration-300"
                                >
                                    <CartIcon />
                                    <span>{cartCount} item{cartCount > 1 ? 's' : ''} in cart</span>
                                    <span className="text-gold font-semibold">‚Üí Checkout</span>
                                </button>
                            </div>
                        )}
                        
                        {/* Login/Signup CTA */}
                        <HeroAuthCTA />
                    </div>

                    {/* Scroll Indicator */}
                    
                </section>
            );
        };

        // Products Data
        const products = [
            {
                id: 1,
                name: "Artisan Sourdough",
                category: "Bread",
                price: 8.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1585478259715-876acc5be8eb?w=400",
                description: "Traditional fermented sourdough with a crispy crust",
                badge: "Bestseller"
            },
            {
                id: 2,
                name: "French Croissant",
                category: "Pastry",
                price: 4.50,
                rating: 5,
                image: "https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=400",
                description: "Buttery, flaky layers of perfection",
                badge: "Popular"
            },
            {
                id: 3,
                name: "Chocolate √âclair",
                category: "Pastry",
                price: 5.99,
                rating: 4,
                image: "https://images.unsplash.com/photo-1587668178277-295251f900ce?w=400",
                description: "Light choux pastry with rich chocolate ganache"
            },
            {
                id: 4,
                name: "Red Velvet Cake",
                category: "Cake",
                price: 45.00,
                rating: 5,
                image: "https://images.unsplash.com/photo-1616541823729-00fe0aacd32c?w=400",
                description: "Moist layers with cream cheese frosting",
                badge: "New"
            },
            {
                id: 5,
                name: "Cinnamon Rolls",
                category: "Pastry",
                price: 6.50,
                rating: 5,
                image: "https://images.unsplash.com/photo-1609127102567-8a9a21dc27d8?w=400",
                description: "Warm, gooey, with cream cheese glaze"
            },
            {
                id: 6,
                name: "Blueberry Muffins",
                category: "Muffin",
                price: 3.99,
                rating: 4,
                image: "https://images.unsplash.com/photo-1607958996333-41aef7caefaa?w=400",
                description: "Bursting with fresh blueberries"
            },
            {
                id: 7,
                name: "Baguette",
                category: "Bread",
                price: 5.50,
                rating: 5,
                image: "https://images.unsplash.com/photo-1549931319-a545dcf3bc73?w=400",
                description: "Classic French bread, crispy outside, soft inside"
            },
            {
                id: 8,
                name: "Strawberry Tart",
                category: "Tart",
                price: 7.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1488477181946-6428a0291777?w=400",
                description: "Fresh strawberries on vanilla custard",
                badge: "Seasonal"
            },
            {
                id: 9,
                name: "Black Forest Cake",
                category: "Cake",
                price: 52.00,
                rating: 5,
                image: "https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=400",
                description: "Chocolate layers with cherries and whipped cream",
                badge: "Bestseller"
            },
            {
                id: 10,
                name: "Chocolate Chip Cookies",
                category: "Cookie",
                price: 2.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1499636136210-6f4ee915583e?w=400",
                description: "Crispy edges, chewy center, loaded with chocolate"
            },
            {
                id: 11,
                name: "Tiramisu",
                category: "Cake",
                price: 8.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=400",
                description: "Classic Italian dessert with espresso and mascarpone",
                badge: "Popular"
            },
            {
                id: 12,
                name: "Apple Pie",
                category: "Pie",
                price: 28.00,
                rating: 5,
                image: "https://images.unsplash.com/photo-1568571780765-9276ac8b75a2?w=400",
                description: "Homemade with fresh apples and warm spices"
            },
            {
                id: 13,
                name: "Cheese Danish",
                category: "Pastry",
                price: 4.99,
                rating: 4,
                image: "https://images.unsplash.com/photo-1509365390695-33aee754301f?w=400",
                description: "Flaky pastry with sweet cream cheese filling"
            },
            {
                id: 14,
                name: "Banana Bread",
                category: "Bread",
                price: 12.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1605286978633-2dec93ff88a2?w=400",
                description: "Moist and sweet with ripe bananas and walnuts"
            },
            {
                id: 15,
                name: "Lemon Tart",
                category: "Tart",
                price: 6.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1519915028121-7d3463d20b13?w=400",
                description: "Tangy lemon curd in a buttery shortcrust",
                badge: "New"
            },
            {
                id: 16,
                name: "Chocolate Brownie",
                category: "Cookie",
                price: 4.50,
                rating: 5,
                image: "https://images.unsplash.com/photo-1564355808539-22fda35bed7e?w=400",
                description: "Fudgy, rich, and loaded with chocolate chunks"
            },
            {
                id: 17,
                name: "Carrot Cake",
                category: "Cake",
                price: 42.00,
                rating: 5,
                image: "https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=400",
                description: "Spiced cake with carrots and cream cheese frosting"
            },
            {
                id: 18,
                name: "Pretzel",
                category: "Bread",
                price: 3.99,
                rating: 4,
                image: "https://images.unsplash.com/photo-1559811814-e2c57b5e89b8?w=400",
                description: "Soft, golden, with coarse salt topping"
            },
            {
                id: 19,
                name: "Macarons",
                category: "Cookie",
                price: 12.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1569864358642-9d1684040f43?w=400",
                description: "Delicate French cookies in assorted flavors",
                badge: "Popular"
            },
            {
                id: 20,
                name: "Cheesecake",
                category: "Cake",
                price: 48.00,
                rating: 5,
                image: "https://images.unsplash.com/photo-1524351199678-941a58a3df50?w=400",
                description: "Creamy New York style with graham crust",
                badge: "Bestseller"
            },
            {
                id: 21,
                name: "Chocolate Muffin",
                category: "Muffin",
                price: 4.25,
                rating: 4,
                image: "https://images.unsplash.com/photo-1604882406195-3e95c9567484?w=400",
                description: "Double chocolate with chocolate chips inside"
            },
            {
                id: 22,
                name: "Fruit Tart",
                category: "Tart",
                price: 8.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1519915028121-7d3463d20b13?w=400",
                description: "Seasonal mixed fruits on pastry cream"
            },
            {
                id: 23,
                name: "Pain au Chocolat",
                category: "Pastry",
                price: 4.75,
                rating: 5,
                image: "https://images.unsplash.com/photo-1530610476181-d83430b64dcd?w=400",
                description: "Buttery pastry with dark chocolate batons"
            },
            {
                id: 24,
                name: "Pumpkin Pie",
                category: "Pie",
                price: 26.00,
                rating: 5,
                image: "https://images.unsplash.com/photo-1509461399763-ae67a981b254?w=400",
                description: "Classic spiced pumpkin with whipped cream",
                badge: "Seasonal"
            },
            {
                id: 25,
                name: "Oatmeal Raisin Cookie",
                category: "Cookie",
                price: 2.75,
                rating: 4,
                image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400",
                description: "Chewy oats with plump raisins and cinnamon"
            },
            {
                id: 26,
                name: "Vanilla Cupcake",
                category: "Cake",
                price: 4.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1519869325930-281384f7d871?w=400",
                description: "Light vanilla sponge with buttercream swirl"
            },
            {
                id: 27,
                name: "Focaccia",
                category: "Bread",
                price: 7.99,
                rating: 5,
                image: "https://images.unsplash.com/photo-1619535860434-ba1d8fa12536?w=400",
                description: "Italian flatbread with rosemary and olive oil"
            },
            {
                id: 28,
                name: "Boston Cream Pie",
                category: "Pie",
                price: 35.00,
                rating: 5,
                image: "https://images.unsplash.com/photo-1587314168485-3236d6710814?w=400",
                description: "Vanilla custard filled with chocolate glaze",
                badge: "New"
            }
        ];

        // Product Card Component
        const ProductCard = ({ product }) => {
            const [isHovered, setIsHovered] = useState(false);
            const { addToCart, toggleWishlist, isInWishlist } = useCart();
            const inWishlist = isInWishlist(product.id);

            return (
                <div
                    className="group relative bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2"
                    onMouseEnter={() => setIsHovered(true)}
                    onMouseLeave={() => setIsHovered(false)}
                >
                    {/* Badge */}
                    {product.badge && (
                        <div className="absolute top-4 left-4 z-20">
                            <span className={`px-3 py-1 text-xs font-bold rounded-full ${
                                product.badge === 'Bestseller' ? 'bg-gold text-brown-900' :
                                product.badge === 'New' ? 'bg-green-500 text-white' :
                                product.badge === 'Popular' ? 'bg-red-500 text-white' :
                                'bg-purple-500 text-white'
                            }`}>
                                {product.badge}
                            </span>
                        </div>
                    )}

                    {/* Wishlist Button */}
                    <button 
                        onClick={() => toggleWishlist(product)}
                        className={`absolute top-4 right-4 z-20 p-2 backdrop-blur-sm rounded-full transition-all duration-300 transform hover:scale-110 ${
                            inWishlist 
                                ? 'bg-red-50 text-red-500 opacity-100' 
                                : 'bg-white/80 opacity-0 group-hover:opacity-100 hover:bg-red-50 hover:text-red-500 translate-y-2 group-hover:translate-y-0'
                        }`}
                    >
                        <HeartIcon filled={inWishlist} />
                    </button>

                    {/* Image Container */}
                    <div className="relative h-56 overflow-hidden">
                        <img
                            src={product.image}
                            alt={product.name}
                            className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                        />
                        <div className="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        
                        {/* Quick Add Button */}
                        <button 
                            onClick={() => addToCart(product)}
                            className="absolute bottom-4 left-1/2 transform -translate-x-1/2 translate-y-12 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 bg-white text-brown-800 px-6 py-2 rounded-full font-semibold hover:bg-gold hover:text-brown-900 shadow-lg"
                        >
                            Add to Cart
                        </button>
                    </div>

                    {/* Content */}
                    <div className="p-6">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm font-medium text-brown-500 uppercase tracking-wider">{product.category}</span>
                            <div className="flex">
                                {[...Array(5)].map((_, i) => (
                                    <StarIcon key={i} filled={i < product.rating} />
                                ))}
                            </div>
                        </div>
                        <h3 className="font-display text-xl font-bold text-brown-800 mb-2 group-hover:text-brown-600 transition-colors">
                            {product.name}
                        </h3>
                        <p className="text-brown-500 text-sm mb-4 line-clamp-2">{product.description}</p>
                        <div className="flex items-center justify-between">
                            <span className="text-2xl font-bold text-brown-700">${product.price.toFixed(2)}</span>
                            <button 
                                onClick={() => addToCart(product)}
                                className="p-3 bg-brown-100 rounded-full text-brown-700 hover:bg-brown-600 hover:text-white transition-all duration-300 hover:rotate-12 transform"
                            >
                                <CartIcon />
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Products Section
        const Products = () => {
            const [activeCategory, setActiveCategory] = useState('All');
            const categories = ['All', 'Bread', 'Pastry', 'Cake', 'Cookie', 'Muffin', 'Tart', 'Pie'];
            const { cartCount, setIsCartOpen, scrollToSection } = useCart();

            const filteredProducts = activeCategory === 'All' 
                ? products 
                : products.filter(p => p.category === activeCategory);

            return (
                <section id="products" className="py-24 bg-gradient-to-b from-cream to-brown-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        {/* Section Header */}
                        <div className="text-center mb-16">
                            <span className="inline-block px-4 py-2 bg-gold/20 text-brown-700 rounded-full text-sm font-semibold mb-4">
                                üç∞ Our Products
                            </span>
                            <h2 className="font-display text-4xl md:text-5xl font-bold text-brown-800 mb-4">
                                Freshly Baked Delights
                            </h2>
                            <p className="text-brown-600 max-w-2xl mx-auto text-lg">
                                Each item is handcrafted with premium ingredients and baked fresh daily for your enjoyment.
                            </p>
                        </div>

                        {/* Category Filter */}
                        <div className="flex flex-wrap justify-center gap-3 mb-12">
                            {categories.map((category) => (
                                <button
                                    key={category}
                                    onClick={() => setActiveCategory(category)}
                                    className={`px-6 py-2.5 rounded-full font-medium transition-all duration-300 transform hover:scale-105 ${
                                        activeCategory === category
                                            ? 'bg-brown-700 text-white shadow-lg shadow-brown-700/30'
                                            : 'bg-white text-brown-700 hover:bg-brown-100 shadow-md'
                                    }`}
                                >
                                    {category}
                                </button>
                            ))}
                        </div>

                        {/* Products Grid */}
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                            {filteredProducts.map((product) => (
                                <ProductCard key={product.id} product={product} />
                            ))}
                        </div>

                        {/* Action Buttons */}
                        <div className="text-center mt-12 flex flex-col sm:flex-row gap-4 justify-center items-center">
                            <button 
                                onClick={() => scrollToSection('about')}
                                className="group inline-flex items-center space-x-2 px-8 py-4 bg-brown-700 text-white rounded-full font-semibold transition-all duration-300 hover:bg-brown-800 hover:shadow-xl hover:scale-105 transform"
                            >
                                <span>Learn About Us</span>
                                <svg className="w-5 h-5 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                </svg>
                            </button>
                            {cartCount > 0 && (
                                <button 
                                    onClick={() => setIsCartOpen(true)}
                                    className="group inline-flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-gold to-yellow-500 text-brown-900 rounded-full font-semibold transition-all duration-300 hover:shadow-xl hover:scale-105 transform animate-pulse"
                                >
                                    <CartIcon />
                                    <span>View Cart ({cartCount})</span>
                                    <span className="text-brown-700">‚Üí</span>
                                </button>
                            )}
                        </div>
                    </div>
                </section>
            );
        };

        // About Section
        const About = () => {
            const { scrollToSection } = useCart();

            return (
                <section id="about" className="py-24 bg-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="grid lg:grid-cols-2 gap-16 items-center">
                            {/* Images Grid */}
                            <div className="relative">
                                <div className="grid grid-cols-2 gap-4">
                                    <div className="space-y-4">
                                        <div className="rounded-2xl overflow-hidden shadow-xl transform hover:scale-105 transition-transform duration-500">
                                            <img src="https://images.unsplash.com/photo-1517433670267-08bbd4be890f?w=400" alt="Baker at work" className="w-full h-48 object-cover" />
                                        </div>
                                        <div className="rounded-2xl overflow-hidden shadow-xl transform hover:scale-105 transition-transform duration-500">
                                            <img src="https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" alt="Fresh bread" className="w-full h-64 object-cover" />
                                        </div>
                                    </div>
                                    <div className="space-y-4 pt-8">
                                        <div className="rounded-2xl overflow-hidden shadow-xl transform hover:scale-105 transition-transform duration-500">
                                            <img src="https://images.unsplash.com/photo-1486427944299-d1955d23e34d?w=400" alt="Pastries" className="w-full h-64 object-cover" />
                                        </div>
                                        <div className="rounded-2xl overflow-hidden shadow-xl transform hover:scale-105 transition-transform duration-500">
                                            <img src="https://images.unsplash.com/photo-1464305795204-6f5bbfc7fb81?w=400" alt="Bakery interior" className="w-full h-48 object-cover" />
                                        </div>
                                    </div>
                                </div>
                                {/* Floating Badge */}
                                <div className="absolute -bottom-6 -right-6 bg-gold text-brown-900 p-6 rounded-2xl shadow-2xl transform hover:rotate-3 transition-transform duration-300">
                                    <div className="text-center">
                                        <span className="block text-4xl font-bold font-display">38+</span>
                                        <span className="text-sm font-medium">Years of Excellence</span>
                                    </div>
                                </div>
                            </div>

                            {/* Content */}
                            <div>
                                <span className="inline-block px-4 py-2 bg-brown-100 text-brown-700 rounded-full text-sm font-semibold mb-6">
                                    ‚ú® Our Story
                                </span>
                                <h2 className="font-display text-4xl md:text-5xl font-bold text-brown-800 mb-6 leading-tight">
                                    Baking Traditions Since 1985
                                </h2>
                                <p className="text-brown-600 text-lg mb-6 leading-relaxed">
                                    What started as a small family bakery has grown into a beloved neighborhood institution. For over three decades, we've been waking up before dawn to bring you the freshest baked goods, made with time-honored recipes and the finest ingredients.
                                </p>
                                <p className="text-brown-600 text-lg mb-8 leading-relaxed">
                                    Every loaf of bread, every pastry, and every cake that leaves our ovens carries the love and dedication of our skilled bakers. We believe in quality over quantity, and that's why we bake in small batches throughout the day.
                                </p>

                                {/* Features */}
                                <div className="grid sm:grid-cols-2 gap-6 mb-8">
                                    {[
                                        { icon: "üåæ", title: "Premium Ingredients", desc: "Locally sourced, organic whenever possible" },
                                        { icon: "üë®‚Äçüç≥", title: "Master Bakers", desc: "Trained in traditional techniques" },
                                        { icon: "üïê", title: "Fresh Daily", desc: "Baked throughout the day" },
                                        { icon: "üíö", title: "Made with Love", desc: "Family recipes passed down generations" }
                                    ].map((feature, idx) => (
                                        <div key={idx} className="group flex items-start space-x-4 p-4 rounded-xl hover:bg-brown-50 transition-colors duration-300">
                                            <span className="text-3xl group-hover:scale-125 transition-transform duration-300">{feature.icon}</span>
                                            <div>
                                                <h4 className="font-semibold text-brown-800">{feature.title}</h4>
                                                <p className="text-sm text-brown-500">{feature.desc}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                <button 
                                    onClick={() => scrollToSection('gallery')}
                                    className="inline-flex items-center space-x-2 text-brown-700 font-semibold hover:text-gold transition-colors duration-300 group"
                                >
                                    <span>View Our Gallery</span>
                                    <svg className="w-5 h-5 transform group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        // Gallery Section
        const Gallery = () => {
            const { scrollToSection } = useCart();
            const [selectedImage, setSelectedImage] = useState(null);
            const galleryImages = [
                { src: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=600", span: "col-span-2 row-span-2", title: "Fresh Baked Bread" },
                { src: "https://images.unsplash.com/photo-1486887396153-fa416526c108?w=400", span: "", title: "Artisan Pastries" },
                { src: "https://images.unsplash.com/photo-1495147466023-ac5c588e2e94?w=400", span: "", title: "Morning Croissants" },
                { src: "https://images.unsplash.com/photo-1517433670267-08bbd4be890f?w=400", span: "", title: "Baker at Work" },
                { src: "https://images.unsplash.com/photo-1550617931-e17a7b70dce2?w=600", span: "col-span-2", title: "Our Kitchen" },
                { src: "https://images.unsplash.com/photo-1559620192-032c4bc4674e?w=400", span: "", title: "Sweet Delights" },
            ];

            return (
                <section id="gallery" className="py-24 bg-brown-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-16">
                            <span className="inline-block px-4 py-2 bg-gold/20 text-brown-700 rounded-full text-sm font-semibold mb-4">
                                üì∏ Gallery
                            </span>
                            <h2 className="font-display text-4xl md:text-5xl font-bold text-brown-800 mb-4">
                                Our Baking Journey
                            </h2>
                            <p className="text-brown-600 max-w-2xl mx-auto text-lg">
                                A glimpse into our kitchen and the artistry behind every creation.
                            </p>
                        </div>

                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            {galleryImages.map((img, idx) => (
                                <div
                                    key={idx}
                                    className={`${img.span} group relative overflow-hidden rounded-2xl cursor-pointer`}
                                    onClick={() => setSelectedImage(img)}
                                >
                                    <img
                                        src={img.src}
                                        alt={img.title}
                                        className="w-full h-full object-cover min-h-[200px] transition-transform duration-700 group-hover:scale-110"
                                    />
                                    <div className="absolute inset-0 bg-gradient-to-t from-brown-900/70 via-brown-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col items-center justify-end pb-6">
                                        <span className="text-white font-medium transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                            {img.title}
                                        </span>
                                        <span className="text-white/70 text-sm transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                                            Click to view
                                        </span>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* CTA to Contact */}
                        <div className="text-center mt-12">
                            <button 
                                onClick={() => scrollToSection('contact')}
                                className="group inline-flex items-center space-x-2 px-8 py-4 bg-brown-700 text-white rounded-full font-semibold transition-all duration-300 hover:bg-brown-800 hover:shadow-xl hover:scale-105 transform"
                            >
                                <span>Get In Touch</span>
                                <svg className="w-5 h-5 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    {/* Lightbox Modal */}
                    {selectedImage && (
                        <div 
                            className="fixed inset-0 z-[80] bg-black/90 flex items-center justify-center p-4"
                            onClick={() => setSelectedImage(null)}
                        >
                            <button 
                                className="absolute top-6 right-6 text-white hover:text-gold transition-colors"
                                onClick={() => setSelectedImage(null)}
                            >
                                <CloseIcon />
                            </button>
                            <img 
                                src={selectedImage.src.replace('w=400', 'w=1200').replace('w=600', 'w=1200')} 
                                alt={selectedImage.title}
                                className="max-w-full max-h-[85vh] object-contain rounded-lg animate-scale-in"
                                onClick={(e) => e.stopPropagation()}
                            />
                            <p className="absolute bottom-6 left-1/2 transform -translate-x-1/2 text-white text-xl font-display">
                                {selectedImage.title}
                            </p>
                        </div>
                    )}
                </section>
            );
        };

        // Testimonials Section
        const Testimonials = () => {
            const testimonials = [
                {
                    name: "Sarah Johnson",
                    role: "Regular Customer",
                    image: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100",
                    text: "The best croissants I've ever had outside of Paris! The texture is absolutely perfect, and you can taste the quality butter in every bite.",
                    rating: 5
                },
                {
                    name: "Michael Chen",
                    role: "Food Blogger",
                    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100",
                    text: "Perfect Bakery lives up to its name. Their sourdough bread has become a staple in our home. The fermentation process they use creates an incredible flavor.",
                    rating: 5
                },
                {
                    name: "Emily Rodriguez",
                    role: "Wedding Planner",
                    image: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100",
                    text: "We've ordered wedding cakes from them for dozens of couples. Not a single complaint - only rave reviews! They're true artists.",
                    rating: 5
                }
            ];

            return (
                <section className="py-24 bg-gradient-to-br from-brown-800 via-brown-900 to-brown-800 relative overflow-hidden">
                    <div className="absolute inset-0 bg-pattern opacity-10"></div>
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                        <div className="text-center mb-16">
                            <span className="inline-block px-4 py-2 bg-gold/20 text-gold rounded-full text-sm font-semibold mb-4">
                                üí¨ Testimonials
                            </span>
                            <h2 className="font-display text-4xl md:text-5xl font-bold text-white mb-4">
                                What Our Customers Say
                            </h2>
                        </div>

                        <div className="grid md:grid-cols-3 gap-8">
                            {testimonials.map((testimonial, idx) => (
                                <div
                                    key={idx}
                                    className="group bg-white/10 backdrop-blur-sm rounded-2xl p-8 hover:bg-white/20 transition-all duration-500 transform hover:-translate-y-2 hover:shadow-2xl"
                                >
                                    <div className="flex mb-4">
                                        {[...Array(testimonial.rating)].map((_, i) => (
                                            <StarIcon key={i} filled={true} />
                                        ))}
                                    </div>
                                    <p className="text-brown-100 mb-6 leading-relaxed italic">"{testimonial.text}"</p>
                                    <div className="flex items-center space-x-4">
                                        <img
                                            src={testimonial.image}
                                            alt={testimonial.name}
                                            className="w-12 h-12 rounded-full object-cover ring-2 ring-gold"
                                        />
                                        <div>
                                            <h4 className="font-semibold text-white">{testimonial.name}</h4>
                                            <p className="text-sm text-brown-300">{testimonial.role}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        // Contact Section
        const Contact = () => {
            const { showNotification, scrollToSection } = useCart();
            const [formData, setFormData] = useState({
                firstName: '', lastName: '', email: '', subject: 'General Inquiry', message: ''
            });
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [isSubmitted, setIsSubmitted] = useState(false);

            const handleInputChange = (e) => {
                setFormData({ ...formData, [e.target.name]: e.target.value });
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                setIsSubmitting(true);
                
                // Simulate form submission
                setTimeout(() => {
                    setIsSubmitting(false);
                    setIsSubmitted(true);
                    showNotification('Message sent successfully!');
                    setFormData({ firstName: '', lastName: '', email: '', subject: 'General Inquiry', message: '' });
                    
                    setTimeout(() => setIsSubmitted(false), 3000);
                }, 1500);
            };

            return (
                <section id="contact" className="py-24 bg-cream">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="grid lg:grid-cols-2 gap-16">
                            {/* Contact Info */}
                            <div>
                                <span className="inline-block px-4 py-2 bg-brown-100 text-brown-700 rounded-full text-sm font-semibold mb-6">
                                    üìç Visit Us
                                </span>
                                <h2 className="font-display text-4xl md:text-5xl font-bold text-brown-800 mb-6">
                                    Come Say Hello!
                                </h2>
                                <p className="text-brown-600 text-lg mb-8">
                                    We'd love to see you at our bakery. Stop by for a fresh pastry and a cup of coffee!
                                </p>

                                <div className="space-y-6">
                                    {[
                                        { icon: <LocationIcon />, title: "Address", info: "Badlapur, Jaunpur\nUttar Pradesh 222125", action: () => window.open('https://maps.google.com/?q=Badlapur,Jaunpur,Uttar+Pradesh+222125', '_blank') },
                                        { icon: <PhoneIcon />, title: "Phone", info: "+91 9140106996", action: () => window.open('tel:+919140106996') },
                                        { icon: <MailIcon />, title: "Email", info: "ay0703221@gmail.com", action: () => window.open('mailto:ay0703221@gmail.com') },
                                        { icon: <ClockIcon />, title: "Hours", info: "Mon-Sat: 6AM - 8PM\nSunday: 7AM - 6PM" }
                                    ].map((item, idx) => (
                                        <div 
                                            key={idx} 
                                            className={`group flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 hover:-translate-x-1 ${item.action ? 'cursor-pointer' : ''}`}
                                            onClick={item.action}
                                        >
                                            <div className="p-3 bg-brown-100 rounded-lg text-brown-600 group-hover:bg-brown-600 group-hover:text-white transition-colors duration-300">
                                                {item.icon}
                                            </div>
                                            <div>
                                                <h4 className="font-semibold text-brown-800">{item.title}</h4>
                                                <p className="text-brown-500 whitespace-pre-line">{item.info}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* Social Links */}
                                <div className="mt-8">
                                    <p className="text-brown-700 font-semibold mb-4">Follow Us</p>
                                    <div className="flex space-x-4">
                                        {[
                                            { letter: 'F', name: 'Facebook', url: 'https://facebook.com' },
                                            { letter: 'I', name: 'Instagram', url: 'https://instagram.com' },
                                            { letter: 'T', name: 'Twitter', url: 'https://twitter.com' },
                                            { letter: 'Y', name: 'YouTube', url: 'https://youtube.com' }
                                        ].map((social) => (
                                            <a
                                                key={social.name}
                                                href={social.url}
                                                target="_blank"
                                                rel="noopener noreferrer"
                                                title={social.name}
                                                className="p-3 bg-white rounded-full shadow-md text-brown-600 hover:bg-brown-600 hover:text-white transition-all duration-300 hover:scale-110 transform hover:-rotate-6"
                                            >
                                                <span className="text-sm font-medium">{social.letter}</span>
                                            </a>
                                        ))}
                                    </div>
                                </div>

                                {/* Back to Products */}
                                <div className="mt-8">
                                    <button 
                                        onClick={() => scrollToSection('products')}
                                        className="inline-flex items-center space-x-2 text-brown-700 font-semibold hover:text-gold transition-colors duration-300 group"
                                    >
                                        <svg className="w-5 h-5 transform group-hover:-translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                                        </svg>
                                        <span>Back to Products</span>
                                    </button>
                                </div>
                            </div>

                            {/* Contact Form */}
                            <div className="bg-white rounded-3xl shadow-2xl p-8 lg:p-10">
                                <h3 className="font-display text-2xl font-bold text-brown-800 mb-6">Send us a Message</h3>
                                
                                {isSubmitted ? (
                                    <div className="text-center py-12 animate-fade-in">
                                        <div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <span className="text-4xl">‚úÖ</span>
                                        </div>
                                        <h4 className="font-semibold text-xl text-brown-800 mb-2">Message Sent!</h4>
                                        <p className="text-brown-500">We'll get back to you within 24 hours.</p>
                                    </div>
                                ) : (
                                    <form className="space-y-6" onSubmit={handleSubmit}>
                                        <div className="grid sm:grid-cols-2 gap-6">
                                            <div className="group">
                                                <label className="block text-sm font-medium text-brown-700 mb-2">First Name *</label>
                                                <input
                                                    type="text"
                                                    name="firstName"
                                                    value={formData.firstName}
                                                    onChange={handleInputChange}
                                                    required
                                                    className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 focus:ring-0 transition-colors duration-300 outline-none"
                                                    placeholder="John"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-brown-700 mb-2">Last Name *</label>
                                                <input
                                                    type="text"
                                                    name="lastName"
                                                    value={formData.lastName}
                                                    onChange={handleInputChange}
                                                    required
                                                    className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 focus:ring-0 transition-colors duration-300 outline-none"
                                                    placeholder="Doe"
                                                />
                                            </div>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Email *</label>
                                            <input
                                                type="email"
                                                name="email"
                                                value={formData.email}
                                                onChange={handleInputChange}
                                                required
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 focus:ring-0 transition-colors duration-300 outline-none"
                                                placeholder="john@example.com"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Subject</label>
                                            <select 
                                                name="subject"
                                                value={formData.subject}
                                                onChange={handleInputChange}
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 focus:ring-0 transition-colors duration-300 outline-none bg-white cursor-pointer"
                                            >
                                                <option>General Inquiry</option>
                                                <option>Custom Order</option>
                                                <option>Catering Request</option>
                                                <option>Feedback</option>
                                                <option>Career Opportunities</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-brown-700 mb-2">Message *</label>
                                            <textarea
                                                name="message"
                                                value={formData.message}
                                                onChange={handleInputChange}
                                                required
                                                rows="4"
                                                className="w-full px-4 py-3 rounded-xl border-2 border-brown-200 focus:border-brown-500 focus:ring-0 transition-colors duration-300 outline-none resize-none"
                                                placeholder="Tell us what you're looking for..."
                                            ></textarea>
                                        </div>
                                        <button
                                            type="submit"
                                            disabled={isSubmitting}
                                            className={`w-full py-4 bg-gradient-to-r from-brown-600 to-brown-700 text-white rounded-xl font-semibold transition-all duration-300 transform ${
                                                isSubmitting 
                                                    ? 'opacity-70 cursor-not-allowed' 
                                                    : 'hover:from-brown-700 hover:to-brown-800 hover:shadow-lg hover:scale-[1.02]'
                                            }`}
                                        >
                                            {isSubmitting ? (
                                                <span className="flex items-center justify-center space-x-2">
                                                    <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">
                                                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none" />
                                                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
                                                    </svg>
                                                    <span>Sending...</span>
                                                </span>
                                            ) : 'Send Message'}
                                        </button>
                                    </form>
                                )}
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        // Newsletter Section
        const Newsletter = () => {
            const { showNotification } = useCart();
            const [email, setEmail] = useState('');
            const [isSubscribed, setIsSubscribed] = useState(false);

            const handleSubscribe = (e) => {
                e.preventDefault();
                if (email) {
                    setIsSubscribed(true);
                    showNotification('Successfully subscribed to newsletter!');
                    setEmail('');
                    setTimeout(() => setIsSubscribed(false), 3000);
                }
            };

            return (
                <section className="py-16 bg-gold">
                    <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                        <h3 className="font-display text-3xl md:text-4xl font-bold text-brown-900 mb-4">
                            Get Fresh Updates! ü•ê
                        </h3>
                        <p className="text-brown-800 mb-8 text-lg">
                            Subscribe to our newsletter for exclusive offers, new product announcements, and baking tips.
                        </p>
                        {isSubscribed ? (
                            <div className="animate-fade-in py-4">
                                <span className="text-2xl">üéâ</span>
                                <p className="text-brown-900 font-semibold mt-2">Thanks for subscribing!</p>
                            </div>
                        ) : (
                            <form onSubmit={handleSubscribe} className="flex flex-col sm:flex-row gap-4 max-w-xl mx-auto">
                                <input
                                    type="email"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    placeholder="Enter your email"
                                    required
                                    className="flex-1 px-6 py-4 rounded-full border-2 border-brown-300 focus:border-brown-600 focus:ring-0 outline-none transition-colors duration-300"
                                />
                                <button 
                                    type="submit"
                                    className="px-8 py-4 bg-brown-800 text-white rounded-full font-semibold hover:bg-brown-900 transition-all duration-300 hover:shadow-lg transform hover:scale-105"
                                >
                                    Subscribe
                                </button>
                            </form>
                        )}
                    </div>
                </section>
            );
        };

        // Footer
        const Footer = () => {
            const { scrollToSection, setIsCartOpen, cartCount } = useCart();

            const handleNavClick = (e, sectionId) => {
                e.preventDefault();
                scrollToSection(sectionId);
            };

            return (
                <footer className="bg-brown-900 text-brown-200 py-16">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="grid md:grid-cols-4 gap-12 mb-12">
                            {/* Brand */}
                            <div className="md:col-span-2">
                                <a 
                                    href="#home" 
                                    onClick={(e) => handleNavClick(e, 'home')}
                                    className="flex items-center space-x-2 mb-4 cursor-pointer"
                                >
                                    <span className="text-4xl">ü•ê</span>
                                    <span className="font-display text-2xl font-bold text-white">Perfect Bakery</span>
                                </a>
                                <p className="text-brown-300 mb-6 max-w-md">
                                    Crafting delicious memories since 1985. Every bite tells a story of tradition, quality, and passion.
                                </p>
                                <div className="flex space-x-4">
                                    {[
                                        { letter: 'F', url: 'https://facebook.com', name: 'Facebook' },
                                        { letter: 'I', url: 'https://instagram.com', name: 'Instagram' },
                                        { letter: 'T', url: 'https://twitter.com', name: 'Twitter' },
                                        { letter: 'Y', url: 'https://youtube.com', name: 'YouTube' }
                                    ].map((social, idx) => (
                                        <a
                                            key={idx}
                                            href={social.url}
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            title={social.name}
                                            className="w-10 h-10 rounded-full bg-brown-800 flex items-center justify-center hover:bg-gold hover:text-brown-900 transition-all duration-300 transform hover:scale-110"
                                        >
                                            {social.letter}
                                        </a>
                                    ))}
                                </div>
                            </div>

                            {/* Quick Links */}
                            <div>
                                <h4 className="font-semibold text-white mb-4">Quick Links</h4>
                                <ul className="space-y-3">
                                    {[
                                        { name: 'Home', id: 'home' },
                                        { name: 'Products', id: 'products' },
                                        { name: 'About Us', id: 'about' },
                                        { name: 'Gallery', id: 'gallery' },
                                        { name: 'Contact', id: 'contact' }
                                    ].map((link) => (
                                        <li key={link.name}>
                                            <a 
                                                href={`#${link.id}`} 
                                                onClick={(e) => handleNavClick(e, link.id)}
                                                className="hover:text-gold transition-colors duration-300 hover:pl-2 inline-block cursor-pointer"
                                            >
                                                {link.name}
                                            </a>
                                        </li>
                                    ))}
                                </ul>
                            </div>

                            {/* Products & Contact */}
                            <div>
                                <h4 className="font-semibold text-white mb-4">Contact Info</h4>
                                <ul className="space-y-3 text-brown-300">
                                    <li className="flex items-start space-x-2">
                                        <span>üìç</span>
                                        <span>Badlapur, Jaunpur<br/>Uttar Pradesh 222125</span>
                                    </li>
                                    <li className="flex items-center space-x-2">
                                        <span>üìû</span>
                                        <a href="tel:+919140106996" className="hover:text-gold transition-colors">+91 9140106996</a>
                                    </li>
                                    <li className="flex items-center space-x-2">
                                        <span>‚úâÔ∏è</span>
                                        <a href="mailto:ay0703221@gmail.com" className="hover:text-gold transition-colors">ay0703221@gmail.com</a>
                                    </li>
                                </ul>
                                {cartCount > 0 && (
                                    <button 
                                        onClick={() => setIsCartOpen(true)}
                                        className="mt-6 flex items-center space-x-2 bg-gold text-brown-900 px-4 py-2 rounded-full font-semibold hover:bg-yellow-400 transition-all duration-300"
                                    >
                                        <CartIcon />
                                        <span>View Cart ({cartCount})</span>
                                    </button>
                                )}
                            </div>
                        </div>

                        {/* Bottom Bar */}
                        <div className="border-t border-brown-800 pt-8 flex flex-col md:flex-row justify-between items-center">
                            <p className="text-brown-400 text-sm">
                                ¬© 2025 Perfect Bakery. All rights reserved.
                            </p>
                            <div className="flex space-x-6 mt-4 md:mt-0">
                                <a href="#" className="text-sm text-brown-400 hover:text-gold transition-colors">Privacy Policy</a>
                                <a href="#" className="text-sm text-brown-400 hover:text-gold transition-colors">Terms of Service</a>
                                <a href="#" className="text-sm text-brown-400 hover:text-gold transition-colors">Sitemap</a>
                            </div>
                        </div>
                    </div>
                </footer>
            );
        };

        // Main App Component
        const App = () => {
            return (
                <CartProvider>
                    <div className="overflow-x-hidden">
                        <Navbar />
                        <Hero />
                        <Products />
                        <About />
                        <Gallery />
                        <Testimonials />
                        <Contact />
                        <Newsletter />
                        <Footer />
                        
                        {/* Global Components */}
                        <CartSidebar />
                        <CheckoutModal />
                        <Notification />
                        
                        {/* Floating Cart Button for Mobile */}
                        <FloatingCartButton />
                    </div>
                </CartProvider>
            );
        };

        // Floating Cart Button Component
        const FloatingCartButton = () => {
            const { cartCount, setIsCartOpen, cartTotal } = useCart();
            const [isVisible, setIsVisible] = useState(false);

            useEffect(() => {
                const handleScroll = () => {
                    setIsVisible(window.scrollY > 500 && cartCount > 0);
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, [cartCount]);

            if (!isVisible) return null;

            return (
                <button
                    onClick={() => setIsCartOpen(true)}
                    className="fixed bottom-6 left-6 z-50 bg-brown-700 text-white p-4 rounded-full shadow-2xl hover:bg-brown-800 transition-all duration-300 transform hover:scale-110 animate-slide-up md:hidden"
                >
                    <div className="relative">
                        <CartIcon />
                        <span className="absolute -top-3 -right-3 w-6 h-6 bg-gold text-brown-900 rounded-full text-xs font-bold flex items-center justify-center">
                            {cartCount}
                        </span>
                    </div>
                </button>
            );
        };

        // Render the App
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
